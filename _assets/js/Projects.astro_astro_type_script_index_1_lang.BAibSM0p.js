document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("categoryDropdown"),s=document.getElementById("categoryOptions"),r=document.querySelector(".selected-category"),d=document.querySelectorAll(".filter-option"),i=document.querySelectorAll(".project-card");if(!e||!s||!r){console.error("Éléments du menu déroulant non trouvés");return}e.addEventListener("click",()=>{const t=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",(!t).toString()),t?(s.classList.remove("show"),e.classList.remove("active")):(s.classList.add("show"),e.classList.add("active"))}),document.addEventListener("click",t=>{const o=t.target;!e.contains(o)&&!s.contains(o)&&(s.classList.remove("show"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"))}),d.forEach(t=>{t.addEventListener("click",()=>{const o=t.getAttribute("data-filter")||"all";r.textContent=t.textContent,d.forEach(a=>a.classList.remove("active")),t.classList.add("active"),s.classList.remove("show"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"),i.forEach(a=>{const c=a;if(o==="all")c.style.display="flex",setTimeout(()=>{a.classList.remove("hidden-project")},50);else{const n=c.getAttribute("data-categories")||c.getAttribute("data-category");n&&n.includes(o)?(c.style.display="flex",setTimeout(()=>{a.classList.remove("hidden-project")},50)):(a.classList.add("hidden-project"),setTimeout(()=>{c.style.display="none"},300))}})})})});
